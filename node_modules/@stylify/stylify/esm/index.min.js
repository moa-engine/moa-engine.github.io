/**
*	(c) 2021-present Vladimír Macháček
*	Released under the MIT License.
*/
var ge=Object.defineProperty;var te=Object.getOwnPropertySymbols;var ue=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable;var _=(p,e,t)=>e in p?ge(p,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):p[e]=t,R=(p,e)=>{for(var t in e||(e={}))ue.call(e,t)&&_(p,t,e[t]);if(te)for(var t of te(e))he.call(e,t)&&_(p,t,e[t]);return p};var c=(p,e,t)=>(_(p,typeof e!="symbol"?e+"":e,t),t);var q=(p,e,t)=>new Promise((s,r)=>{var i=n=>{try{a(t.next(n))}catch(d){r(d)}},o=n=>{try{a(t.throw(n))}catch(d){r(d)}},a=n=>n.done?s(n.value):Promise.resolve(n.value).then(i,o);a((t=t.apply(p,e)).next())});var K=(p,e)=>{let{r:t,g:s,b:r}=Z(p),i=[t,s,r].map(o=>(o+=e,o>255?o=255:o<0&&(o=0),o));return me({r:i[0],g:i[1],b:i[2]})},fe=p=>{let e=p.replace("#",""),t=e.length===3;return{r:parseInt(t?e.slice(0,1).repeat(2):e.slice(0,2),16),g:parseInt(t?e.slice(1,2).repeat(2):e.slice(2,4),16),b:parseInt(t?e.slice(2,3).repeat(2):e.slice(4,6),16)}},re=p=>{p=p.replace("rgb(","").replace(/\)/,"");let e=p.split(p.includes(",")?",":" ");return{r:parseInt(e[0]),g:parseInt(e[1]),b:parseInt(e[2])}},Z=p=>{let e={r:null,g:null,b:null};if(/^#/.test(p)?e=fe(p):/^rgb\(/.test(p)&&(e=re(p)),e.r===null)throw new Error(`Color "${p}" could not be converted to RGB.`);return e},me=p=>{typeof p=="string"&&(p=re(p));let{r:e,g:t,b:s}=p;return"#"+[e,t,s].map(r=>{let i=r.toString(16);return i.length==1?`0${i}`:i}).join("")};var se=()=>Date.now().toString(36)+Math.random().toString(36).substring(2);var be=(...p)=>{let e={};for(let t of p)for(let[s,r]of Object.entries(t)){if(!(s in e)){e[s]=r;continue}let i=typeof r;Array.isArray(r)?e[s]=[...e[s],...r]:r!==null&&i==="object"?e[s]=be(e[s],r):e[s]=r}return e};var ie="_DLR_",oe="_BSLASH_",Q=(p,e=!1)=>{let t=p.length,s="",r=e?/[^a-zA-Z0-9]/:/[.*+?^${}()|[\]\\]/;for(let i=0;i<t;i++){let o=p[i],a="\\";if(["-","_"].includes(o)||!r.test(o)||p[i-1]===a){s+=o;continue}s+=`\\${o}`}return s},ne=(p,e)=>{let t=p.split(""),s=t.length;for(let r=0;r<s&&!e({token:t[r],nextToken:t[r+1],previousToken:t[r-1],iterator:r,isLastToken:r+1===s,isFirstToken:r===0,tokensCount:s});r++);},ye=new RegExp(ie,"g"),xe=new RegExp(oe,"g"),$=p=>p.replace(/\$/g,ie).replace(/\\/g,oe),X=p=>p.replace(ye,"$$").replace(xe,"\\");var z={},J=class{addListener(e,t){e in z||(z[e]=[]),z[e].push(t)}callHook(e,t){var r;let s=this.createHookData(t);for(let i of(r=z[e])!=null?r:[])i(s);return s}callAsyncHook(e,t){return q(this,null,function*(){let s=this.createHookData(t),r=(i=0)=>q(this,null,function*(){var n,d;let o=(d=((n=z[e])!=null?n:[])[i])!=null?d:null;if(!o)return;let a=o(s);return a instanceof Promise&&(yield a),r(i+1)});return yield r(),s})}createHookData(e){return R({},e)}},v=new J;var G=class{constructor(e={}){c(this,"macroRegExpStartPart","(?:^|[^a-zA-Z0-9_-])");c(this,"macroRegExpEndPart","(?=['\"`{}\\[\\]<>\\s]|$)");c(this,"variableRegExp",/\$([\w-_]+)/g);c(this,"contentOptionsRegExp",/stylify-([a-zA-Z-_0-9]+)\s([\s\S]+?)\s\/stylify-[a-zA-Z-_0-9]+/);c(this,"macrosRegExpGenerators",[e=>new RegExp(`([a-zA-Z0-9\\-:&\\|]+):${e}${this.macroRegExpEndPart}`,"g"),e=>new RegExp(`()${e}${this.macroRegExpEndPart}`,"g")]);c(this,"undefinedVariableWarningLevel","error");c(this,"rewrittenAreasCache",{});c(this,"ignoredAreas",[]);c(this,"mangleSelectors",!1);c(this,"mangledSelectorsPrefix","");c(this,"selectorsPrefix","");c(this,"dev",!1);c(this,"macros",{});c(this,"helpers",{});c(this,"screens",{});c(this,"variables",{});c(this,"externalVariables",[]);c(this,"keyframes",{});c(this,"components",{});c(this,"pregenerate","");c(this,"selectorsAreas",[]);c(this,"customSelectors",{});c(this,"matchCustomSelectors",!0);c(this,"processedHelpers",{});c(this,"cssVariablesEnabled",!0);c(this,"injectVariablesIntoCss",!0);c(this,"ignoredAreasRegExpString",null);this.configure(ae),Object.keys(e).length&&this.configure(e)}configure(e){var s,r,i,o,a,n,d,u,m,l,g,h,b,f,y,x,S,C;this.dev=(s=e.dev)!=null?s:this.dev,this.matchCustomSelectors=(r=e.matchCustomSelectors)!=null?r:this.matchCustomSelectors,this.macros=R(R({},this.macros),(i=e.macros)!=null?i:{}),this.helpers=R(R({},this.helpers),(o=e.helpers)!=null?o:{}),this.keyframes=R(R({},this.keyframes),(a=e.keyframes)!=null?a:{}),this.screens=R(R({},this.screens),(n=e.screens)!=null?n:{}),this.injectVariablesIntoCss=(d=e.injectVariablesIntoCss)!=null?d:this.injectVariablesIntoCss,this.selectorsAreas=[...this.selectorsAreas,...(u=e.selectorsAreas)!=null?u:[]],this.mangleSelectors=(m=e.mangleSelectors)!=null?m:this.mangleSelectors,this.mangledSelectorsPrefix=(l=e.mangledSelectorsPrefix)!=null?l:this.mangledSelectorsPrefix,this.selectorsPrefix=(g=e.selectorsPrefix)!=null?g:this.selectorsPrefix,this.undefinedVariableWarningLevel=(h=e.undefinedVariableWarningLevel)!=null?h:this.undefinedVariableWarningLevel,this.externalVariables=[...this.externalVariables,...(b=e.externalVariables)!=null?b:[]],this.cssVariablesEnabled=(f=e.cssVariablesEnabled)!=null?f:this.cssVariablesEnabled,this.addVariables((y=e.variables)!=null?y:{}),typeof e.pregenerate!="undefined"&&(this.pregenerate+=Array.isArray(e.pregenerate)?e.pregenerate.join(" "):e.pregenerate);let t=[];this.ignoredAreas=[...this.ignoredAreas,...(x=e.ignoredAreas)!=null?x:[]].filter((k,w,j)=>{let M=j.indexOf(k)===w;return M&&t.push(k.source),M}),this.ignoredAreasRegExpString=t.join("|");for(let[k,w]of Object.entries((S=e.customSelectors)!=null?S:{}))this.addCustomSelector(k,w);for(let[k,w]of Object.entries((C=e.components)!=null?C:{}))this.addComponent(k,w)}addVariables(e,t=null){for(let[s,r]of Object.entries(e)){if(!["string","number"].includes(typeof r)){this.addVariables(r,s);continue}let i=String(r),o=this.replaceVariableString(this.processHelpers({content:i,replaceByVariable:!1,variablesScope:t}),i);if(t){t in this.variables||(this.variables[t]={}),this.variables[t][s]=o;continue}this.variables[s]=o}}addCustomSelector(e,t,s=!0,r="custom"){if(s&&e.includes(",")){e.split(",").forEach(i=>this.addCustomSelector(i.trim(),t));return}e in this.customSelectors||(this.customSelectors[e]={customSelectors:[],type:r}),this.customSelectors[e].customSelectors.push(new W(t))}addComponent(e,t){if(e.includes(",")){e.split(",").forEach(i=>this.addComponent(i.trim(),t));return}e in this.components||(this.components[e]={selectorsOrGenerators:[]});let s=typeof t=="function",r=this.components[e].selectorsOrGenerators;if(!(!s&&r.includes(t))){if(s){for(let i of r)if(typeof i=="function"&&i.toString()===t.toString())return}this.components[e].selectorsOrGenerators.push(t)}}addMacro(e,t){this.macros[e]=t}rewriteSelectors(e){var n,d;let t=!0,s=!1,r="";if(typeof e=="string"?r=e:(r=e.content,t=(n=e.rewriteOnlyInSelectorsAreas)!=null?n:t,s=(d=e.matchSelectorsWithPrefixes)!=null?d:s),!this.mangleSelectors)return r;if(r in this.rewrittenAreasCache)return this.rewrittenAreasCache[r];let i=r,o=Object.keys(E.processedSelectors).sort((u,m)=>m.length-u.length),a=(u,m,l)=>{let g={},h=f=>{if(!(f in g)){let y=`_TEXT_${Object.keys(g).length}_`;g[f]=y}return g[f]};u=$(u).replace(new RegExp(this.ignoredAreasRegExpString,"g"),(...f)=>{let y=f.filter(k=>typeof k=="string"),x=y[0],S=y[1],C=typeof S=="undefined"||S.length===0?x:x.replace(S,h(S));return C!==x&&(m=m.replaceAll(x,C),l=l.replaceAll(x,C)),C}).replace(new RegExp(this.contentOptionsRegExp.source,"g"),f=>h(f)),m=m.replace(new RegExp(this.contentOptionsRegExp.source,"g"),""),l=l.replace(new RegExp(this.contentOptionsRegExp.source,"g"),"");let b=l;l=$(l);for(let f of o){if(!l.includes($(f)))continue;let y=E.getMangledSelector(f,this.mangledSelectorsPrefix),x=s?E.getSelectorPrefix(f):"",S=Q($(E.getStringToMatch(f,s))),C=this.dev?"":"\\s*",k=`${x}${y}`,w=new RegExp(`${t?this.macroRegExpStartPart:""}(${C})(${S})(${C})`,"g"),j;for(;j=w.exec(l);){w.lastIndex=0;let[M,U,V,L]=j,ce=/^(?:\s|\n)+/.test(U)?" ":"",pe=/^(?:\s|\n)+/.test(L)?" ":"",de=M.replace(`${U}${V}${L}`,`${ce}${k}${pe}`);l=l.replace(M,de)}}u=u.replace($(m),m.replace(b,l));for(let[f,y]of Object.entries(g))u=u.replace(new RegExp(y,"g"),f);return u=X(u),u};if(t)for(let u of this.selectorsAreas){let m=[...r.matchAll(new RegExp(u.source,"g"))];for(let l of m)r=a(r,l[0],l[1])}else r=a(r,r,r);return this.rewrittenAreasCache[i]=r,r}compile(e,t=null,s=!0){let r="";if(e=e.replace(new RegExp(this.ignoredAreasRegExpString,"g"),(...o)=>{let a=o.filter(u=>typeof u=="string"),n=a[0],d=a[1];return typeof d=="undefined"||d.length===0?n:n.replace(d,"")}).replace(/&amp;/ig,"&"),e=e.replace(/\r\n|\r/ig,`
`),this.configure(this.processOptionsFromContent(this.getOptionsFromContent(e))),e=e.replace(new RegExp(this.contentOptionsRegExp.source,"g"),""),s)for(let o of this.selectorsAreas){let a=new RegExp(o.source,"g"),n;for(;n=a.exec(e);)r+=" "+n[1]}else r=e;r=`${this.pregenerate} ${r}`,this.pregenerate="",this.matchCustomSelectors&&(r=r.replace(/\[([^{}\s]+)\]{([^{}]+)}/g,(o,a,n)=>(this.generateMangledSelector(o),this.addCustomSelector(o,`${T.replaceCharactersAliases(a)}{${n.replace(/;/g," ")}}`,!1,"customMatchedInClass"),"")),r=r.replace(/(\S+):{([^{}]+)}/g,(o,a,n)=>(this.generateMangledSelector(o),this.addCustomSelector(o,n.split(";").map(d=>`${a}:${d}`).join(" "),!1,"utilitiesGroup"),""))),this.processComponents(r);let i=this.processCustomSelectors();return t=t!=null?t:new F,v.callHook("compiler:beforeMacrosProcessed",t),this.processMacros(r,t),this.processMacros(Object.values(i).join(" "),t,!1),v.callHook("compiler:afterMacrosProcessed",t),this.configureCompilationResult(t),t.bindCustomSelectorsToSelectors(i),t}getOptionsFromContent(e){let t={},s=new RegExp(this.contentOptionsRegExp.source,"g"),r;for(;r=s.exec(e);){if(![typeof r[1],typeof r[2]].includes("string"))continue;let i=r[1],o=r[2];i in t||(t[i]=[]),t[i].push(o)}return t}generateMangledSelector(e,t="."){return this.mangleSelectors?(E.generateMangledSelector(e,t),E.getMangledSelector(e,this.mangledSelectorsPrefix)):e}configureCompilationResult(e){let t=this.dev?`
`:"",s=this.dev?"	":"",r=(a,n)=>`${s}--${a}: ${String(n)};${t}`,i="";if(this.injectVariablesIntoCss){let a="",n="";for(let[m,l]of Object.entries(this.variables)){if(["string","number"].includes(typeof l)){a+=`${r(m,String(l))}`;continue}let g=T.replaceCharactersAliases(m,"space");new RegExp(`(?:\\s|^)${g}`).test(n)||(n+=` ${g}`)}a&&(i+=`:root {${t}${a}}${t}`);let d=new Map;for(let[m,l]of Object.entries(this.screens)){let g=new RegExp(`(?:\\s|^)\\b${m}`,"g"),h;for(;h=g.exec(n);){if(h===null)continue;let b=h[0].trim(),f=typeof l=="function"?l.call(this,new P(b,h.slice(1))):l;d.set(`@media ${f}`,this.variables[b]),n=n.replace(new RegExp(`(?:\\s|^)${b}`),"")}}let u=N.sortCssTreeMediaQueries(d);for(let m of u.keys()){let l=u.get(m),g="";for(let[h,b]of Object.entries(l))g+=r(h,String(b));i+=`${m} {${t}:root {${t}${g}}${t}}${t}`}if(n=n.trim(),n.length)for(let m of n.split(" ")){m=T.replaceCharactersAliases(m,"space"),i+=`${m} {${t}`;for(let[l,g]of Object.entries(this.variables[m]))i+=r(l,g);i+=`}${t}`}}let o="";for(let[a,n]of Object.entries(this.keyframes))o+=`@keyframes ${a} {${n.trimEnd()}${t}}${t}`;return e.configure({dev:this.dev,mangleSelectors:this.mangleSelectors,mangledSelectorsPrefix:this.mangledSelectorsPrefix,defaultCss:`${[i,o].join(t).trim()}${t}`}),v.callHook("compiler:compilationResultConfigured",e),e}processCustomSelectors(){var t;let e={};for(let[s,r]of Object.entries(this.customSelectors)){let i=r.type==="component",o=r.type==="utilitiesGroup",a=r.type==="customMatchedInClass",n=i||o||a,d=this.mangleSelectors||r.type==="custom"?s:Q(s,i||o||a);for(let u of r.customSelectors){let m=u.generateSelectors(`${n?".":""}${d}`),l,g;for([l,g]of Object.entries(m)){if(this.mangleSelectors&&i){let h=$(l),b=$(d);l=h.replace(new RegExp(`\\.(${b}\\S*)`),(f,y)=>{let x="",S=X(y);return ne(S,({token:C,previousToken:k})=>{if(!/\w|-|\\|\$/.test(C)&&k!=="\\")return!0;x+=C}),f.substring(1).replace($(x),`.${this.generateMangledSelector(x)}`)})}this.mangleSelectors&&(l=this.rewriteSelectors({content:l,rewriteOnlyInSelectorsAreas:!1,matchSelectorsWithPrefixes:!0})),e[l]=[(t=e[l])!=null?t:"",...g.split(" ")].filter((h,b,f)=>h.trim().length>0&&f.indexOf(h)===b).join(" ").replace(/\s/g," ").trim()}}}return e}processComponents(e){for(let[t,s]of Object.entries(this.components)){let r=new RegExp(`${this.macroRegExpStartPart}(${t}${this.macroRegExpEndPart})`,"g"),i;for(;i=r.exec(e);){let o=new RegExp(`${t}${this.macroRegExpEndPart}`).exec(i[1]),a=o[0];for(let n of s.selectorsOrGenerators){let d=typeof n=="function"?n.call(this,new P(o[0],o.slice(1))):n;this.generateMangledSelector(a),this.addCustomSelector(a,d,!1,"component")}}}}processMacros(e,t,s=!0){if(e.trim())for(let r of this.macrosRegExpGenerators)for(let i in this.macros)e=e.replace(new RegExp(`${this.macroRegExpStartPart}(${r(`${this.selectorsPrefix}${i}`).source})`,"g"),(...o)=>{let a=new T(this,o.slice(0,o.length-2)),n=t.getCssRecord(a);if(n)return s&&!n.utilityShouldBeGenerated&&t.configureCssRecord(n,{utilityShouldBeGenerated:s}),"";let d=this.macros[i].call(this,a);for(let[u,m]of Object.entries(d))d[u]=this.processHelpers({content:m});for(let[u,m]of Object.entries(d))d[u]=this.replaceVariableString(m,`${u}:${m}`);return v.callHook("compiler:newMacroMatch",{match:a,utilityShouldBeGenerated:s,selectorProperties:d,dev:this.dev,variables:this.variables,helpers:this.helpers}),t.addCssRecord(a,d,s),""})}processHelpers({content:e,replaceByVariable:t,variablesScope:s}){let r="_ARG",i="_",o=new RegExp(`${r}(\\d+)${i}`),a=this.cssVariablesEnabled&&(t!=null?t:!0);return e.replace(/(?:^|\s+)(\S+)\(([^)]+)\)/g,(n,d,u)=>{var g;if(!(d in this.helpers))return n;let m=`${d}${u}`.replace(/[^a-zA-Z0-9]/g,"-").replace(/[^a-zA-Z0-9]$/g,""),l=(g=this.processedHelpers[m])!=null?g:null;if(!l){let h=[],b=u.replace(/'([^']+)'/g,(f,y)=>{let x=h.length;return h.push(y),`${r}${x}${i}`}).split(",").map(f=>{if(f=f.replace(o,(y,x)=>h[x]),f.startsWith("$")){let y=f.slice(1),{defined:x,isExternal:S}=this.isVariableDefined(y,n,s),C=s?this.variables[s][y]:this.variables[y],k=x&&!S?C:void 0;if(x){if(S)throw new Error(`Helpers cannot use external variables. Processing helper "${d}" and variable "${f}".`);if(["string","number"].includes(typeof k))f=String(k);else throw new Error(`Screen "${f}" cannot be used as value in helper "${d}".`)}else return`$${y}`}return isNaN(Number(f))?f:parseFloat(f)});l=this.helpers[d].call(this,...b),a&&this.addVariables({[m]:l})}return n.replace(`${d}(${u})`,a?`var(--${m})`:l)})}replaceVariableString(e,t){return e.replace(this.variableRegExp,(s,r)=>{var i;return this.isVariableDefined(r,t),this.cssVariablesEnabled?`var(--${r})`:(i=this.variables[r])!=null?i:s})}isVariableDefined(e,t,s=null){let r=!1,i=!1,o=s?this.variables[s]:this.variables;if(e in o)r=!0;else{if(r=this.externalVariables.includes(e),!r)for(let n of this.externalVariables){if(typeof n=="function"){let d=n.call(this,e);r=typeof d=="boolean"?d:!1}else n instanceof RegExp&&(r=n.test(e));if(r)break}i=r}let a=`Stylify: Variable "${e}" not found while processing "${t}".`;if(!r&&this.undefinedVariableWarningLevel!=="silent"){if(this.dev||this.undefinedVariableWarningLevel==="warning")console.warn(a);else if(this.undefinedVariableWarningLevel==="error")throw new Error(a)}return{defined:r,isExternal:i}}processOptionsFromContent(e){var s;let t={};for(let[r,i]of Object.entries(e))for(let o of i)try{r==="pregenerate"?t[r]+=` ${o}`:r==="externalVariables"?t[r]=[...(s=t[r])!=null?s:[],...o.split(/\s/).filter(a=>a.trim().length)]:["components","variables","keyframes","customSelectors","screens"].includes(r)?t[r]=R(R({},t[r]),new Function(`return {${o.trim()}}`)()):t=v.callHook(`compiler:processContentOption:${r}`,{contentOptions:t,option:r,value:o}).contentOptions}catch(a){this.dev&&console.error(`Error "${a}" occurred when processing "${r}" and its value "${o}".`)}return t}};var B=class{constructor(e){c(this,"changed",!1);c(this,"sortedPropertiesKeys",[]);c(this,"utilityShouldBeGenerated",!0);c(this,"cache",null);c(this,"selector",null);c(this,"mangledSelector",null);c(this,"screenId",null);c(this,"scope",null);c(this,"customSelectors",[]);c(this,"components",{});c(this,"properties",{});c(this,"pseudoClasses",[]);this.configure(e)}configure(e={}){var t,s,r,i,o,a,n;Object.keys(e).length&&(this.mangledSelector=(t=e.mangledSelector)!=null?t:this.mangledSelector,this.screenId=(s=e.screenId)!=null?s:this.screenId,this.selector=(i=(r=e.selector)==null?void 0:r.replace(/([^-_a-zA-Z\d])/g,"\\$1"))!=null?i:this.selector,this.scope=(o=e.scope)!=null?o:null,this.utilityShouldBeGenerated=(a=e.utilityShouldBeGenerated)!=null?a:this.utilityShouldBeGenerated,/^\d/gm.test(this.selector[0])&&(this.selector="\\3"+this.selector),this.addPseudoClasses((n=e.pseudoClasses)!=null?n:[]),this.changed=!0)}addProperties(e){for(let t in e)this.addProperty(t,e[t])}addProperty(e,t){if(e in this.properties)return;let s={[e]:t},r=v.callHook("cssRecord:addProperty",s);this.changed=!0,this.sortedPropertiesKeys=[],this.properties=R(R({},this.properties),r)}getSortedPropertiesKeys(){return this.sortedPropertiesKeys.length===0&&(this.sortedPropertiesKeys=Object.keys(this.properties).map(e=>e.replace(/-(?:o|webkit|moz|ms)-/,"")).filter((e,t,s)=>s.indexOf(e)===t).sort()),this.sortedPropertiesKeys}addPseudoClasses(e){Array.isArray(e)||(e=[e]);for(let t of e)this.pseudoClasses.includes(t)||(this.changed=!0,this.pseudoClasses.push(t))}addCustomSelector(e){this.customSelectors.includes(e)||(this.changed=!0,this.customSelectors.push(e))}addComponents(e){for(let t in e)this.addComponent(t,e[t])}addComponent(e,t=[]){e=e.replace(/([^-_a-zA-Z\d])/g,"\\$1"),!(e in this.components)&&(this.changed=!0,this.components[e]=t)}generateCss(e){var t;if(this.changed||!this.cache){let s=e.minimize?"":`
`,r=e.mangleSelectors?`${(t=e.mangledSelectorsPrefix)!=null?t:""}${this.mangledSelector}`:this.selector,i=[],o=[],a=[];for(let g in this.components){let h=this.components[g];if(h.length===1&&/^\s*$/gm.test(h[0])&&h.pop(),!h.length){a.push(g);continue}for(let b of h)b=b.replace(/\s\s+/g," "),a.push([...b.split(" "),g].join("."))}if(this.pseudoClasses.length)for(let g of this.pseudoClasses){let h=`:${g}`;i=this.customSelectors.map(b=>`${b}${h}`),o=[...o,this.utilityShouldBeGenerated?`${r}${h}`:"",...a.map(b=>`${b}${h}`)]}else i=this.customSelectors,o=[this.utilityShouldBeGenerated?r:"",...a];let n=g=>g.filter(h=>h),d=this.scope?this.scope:"",u=[...n(i).map(g=>`${d}${g}`),...n(o).map(g=>`${d}.${g}`)],m=e.minimize?"":"	",l=e.minimize?"":" ";this.cache=u.join(","+s)+"{"+s+Object.keys(this.properties).map(g=>`${m+g}:${l+this.properties[g]}`).join(";"+s)+s+"}"+s,this.changed=!1}return v.callHook("cssRecord:cssGenerated",this),this.cache}};var P=class{constructor(e,t){c(this,"fullMatch",null);c(this,"captures",[]);this.fullMatch=e.trim(),this.captures=t.filter(s=>typeof s!="undefined")}getCapture(e,t=void 0){var s;return(s=this.captures[e])!=null?s:t}};var H=class extends P{constructor(t,s){var l,g,h,b;super(s[1],s.slice(3));c(this,"selector",null);c(this,"screen","_");c(this,"pseudoClasses",null);let r=(g=(l=s[2])==null?void 0:l.trim())!=null?g:null;if(this.selector=this.fullMatch,!r)return;let i=[],o=r.split(""),a=o.length,n="",d=!1,u=r;for(let f=0;f<=a;f++){let y=o[f],x=(h=o[f-1])!=null?h:"",S=(b=o[f+1])!=null?b:"",C=y+S,k=H.logicalOperandsList.includes(C);if(!(y==="\\"&&S!==":"||k||y===":"&&x!=="\\"||f===a)){n+=y;continue}for(let M in t.screens){let V=new RegExp(`^${M}$`,"g").exec(n);if(V===null)continue;let L=t.screens[M];if(typeof L=="function"&&(L=L.call(t,new P(V[0],V.slice(1)))),L){u=u.substring(V[0].length),i.push(L),d=!0;break}}if(n+=y,k){u=u.substring(2),i.push(H.logicalOperandsReplacementMap[C]),f++,n="";continue}}d&&(this.screen=i.join(""));let m=u.replace(/^:/,"");m.trim().length&&(this.pseudoClasses=m)}static replaceCharactersAliases(t,s=null){let r={space:[H.selectorSpaceAlias," "],quote:[H.selectorQuoteAlias,"'"]};for(let[i,o]of s?r[s]:Object.values(r))t=t.replace(new RegExp(`(\\\\)?\\${i}`,"g"),(a,n)=>n?a.replace(/\\/,""):o);return t}getCapture(t,s=""){let r=super.getCapture(t);return r===void 0?s:H.replaceCharactersAliases(r)}},T=H;c(T,"selectorSpaceAlias","_"),c(T,"selectorQuoteAlias","^"),c(T,"logicalOperandsReplacementMap",{"&&":" and ","||":", "}),c(T,"logicalOperandsList",Object.keys(H.logicalOperandsReplacementMap));var F=class{constructor(e={}){c(this,"id");c(this,"screensList",new Map);c(this,"selectorsList",{});c(this,"screensListSorted",!1);c(this,"reconfigurable",!0);c(this,"changed",!1);c(this,"mangleSelectors",!1);c(this,"mangledSelectorsPrefix","");c(this,"dev",!1);c(this,"screensSortingFunction",null);c(this,"defaultCss","");this.id=se(),this.addScreen("_"),this.configure(e)}configure(e={}){var t,s,r,i,o;Object.keys(e).length&&(this.dev=(t=e.dev)!=null?t:this.dev,this.reconfigurable=(s=e.reconfigurable)!=null?s:this.reconfigurable,this.mangleSelectors=(r=e.mangleSelectors)!=null?r:this.mangleSelectors,this.mangledSelectorsPrefix=(i=e.mangledSelectorsPrefix)!=null?i:this.mangledSelectorsPrefix,this.defaultCss=e.defaultCss||this.defaultCss,this.screensSortingFunction=(o=e.screensSortingFunction)!=null?o:N.sortCssTreeMediaQueries,this.addScreens(e.screensList||{}))}getScreenById(e){let t=null;return[...this.screensList].find(([s,r])=>{let i=r===e;return i&&(t=s),i}),t}addScreens(e){for(let t in e)this.addScreen(t,e[t])}addScreen(e,t=this.screensList.size){this.screensList.has(e)||(this.screensList.set(e,t),this.screensListSorted=!1)}generateCss(){let e=this.defaultCss,t=this.dev?`
`:"",s={},r=Object.keys(this.selectorsList).sort((i,o)=>{let a=this.selectorsList[i],n=this.selectorsList[o],d=[],u=null,m=a.getSortedPropertiesKeys(),l=n.getSortedPropertiesKeys();for(let h=0;h<m.length;h++){let b=m[h],f=l[h];if(!(f===void 0||b===f)){u=b,d=[b,f];break}}return d.length===0?0:d.sort()[0]===u?-1:1});for(let i of r){let o=this.selectorsList[i],a=this.getScreenById(o.screenId);a in s||(s[a]=""),s[a]+=this.selectorsList[i].generateCss({minimize:!this.dev,mangleSelectors:this.mangleSelectors,mangledSelectorsPrefix:this.mangledSelectorsPrefix})}this.screensListSorted||(this.screensList=this.screensSortingFunction(this.screensList));for(let[i]of this.screensList){let o=s[i]||null;o&&(e+=i==="_"?o:`${t}@media ${i} {${t}${o}}${t}`)}return this.changed=!1,e.trim()}getCssRecord(e){var t;return(t=this.selectorsList[e.fullMatch])!=null?t:null}configureCssRecord(e,t){e.configure(t),this.changed=!0}addCssRecord(e,t,s=!0){if(e.fullMatch in this.selectorsList)return;let r=e.selector,i=e.screen;this.screensList.has(i)||this.addScreen(i);let o=new B({screenId:this.screensList.get(i),selector:r,mangledSelector:`${this.mangledSelectorsPrefix}${E.generateMangledSelector(r)}`,pseudoClasses:e.pseudoClasses?[e.pseudoClasses]:[],utilityShouldBeGenerated:s});v.callHook("compilationResult:configureCssRecord",{compilationResult:this,cssRecord:o}),o.addProperties(t),this.selectorsList[r]=o,this.changed=!0}bindCustomSelectorsToSelectors(e){for(let[t,s]of Object.entries(e))for(let r of s.split(" ").filter(i=>i.trim()!=="")){if(!(r in this.selectorsList))throw new Error(`Selector "${r}" for custom selector "${t}" was not matched and therefore not added.`);this.selectorsList[r].addCustomSelector(t)}}};var Y=class{constructor(){c(this,"letters","abcdefghijklmnopqrstuvwxyz");c(this,"lettersLength",this.letters.length);c(this,"lastLetterIndex",this.lettersLength-1);c(this,"processedSelectors",{})}getSelectorPrefix(e){var t;return(t=this.processedSelectors[e].prefix)!=null?t:""}getStringToMatch(e,t=!1){var s;return t?`${(s=this.processedSelectors[e].prefix)!=null?s:""}${e}`:e}generateMangledSelector(e,t="."){return e in this.processedSelectors||(this.processedSelectors[e]={mangledSelector:this.divideLengthAndGetLetter(Object.keys(this.processedSelectors).length),prefix:t}),this.processedSelectors[e].mangledSelector}getMangledSelector(e,t=""){var r,i;let s=(i=(r=this.processedSelectors[e])==null?void 0:r.mangledSelector)!=null?i:null;return s&&t.length&&(s=t+s),s}divideLengthAndGetLetter(e){let t="";if(e>this.lastLetterIndex){let s=Math.floor(e/this.lettersLength),r=s-1,i=e-this.lettersLength*s;t=this.letters[i],t=r>this.lastLetterIndex?this.divideLengthAndGetLetter(r)+t:this.letters[r]+t}else t=this.letters[e];return t}},E=new Y;var ee=class{constructor(){c(this,"sortCssTreeMediaQueries",e=>{let t=new Map;e.has("_")&&(t.set("_",e.get("_")),e.delete("_"));let s=[],r=[],i=[],o=[...e.keys()].filter(l=>l.includes("(prefers-color-scheme: dark)")?(r.push(l),!1):l.includes("(prefers-color-scheme: light)")?(s.push(l),!1):l.includes("print")?(i.push(l),!1):!0),a=l=>{let g=/(\d*\.?\d+)(ch|em|ex|px|rem)/.exec(l);if(!g)return null;let h=g[1],b=g[2],f=parseFloat(h);return b==="ch"?f=parseFloat(h)*8.8984375:["em","rem"].includes(b)?f=parseFloat(h)*16:b==="ex"&&(f=parseFloat(h)*8.296875),f},n=l=>{let h=new RegExp("[\\w-]+: ?\\d*.?\\d+(?:ch|em|ex|px|rem)").exec(l);return h?a(h[0]):Number.MAX_VALUE},d=(l,g,h=!1)=>{let b=[],f=l.filter(y=>new RegExp(`${g}: ?\\d*.?\\d+(?:ch|em|ex|px|rem)`).exec(y)?!0:(b.push(y),!1)).sort((y,x)=>{let S=n(y)>n(x);return h?S?-1:0:S?0:-1});return u(f),b},u=l=>{for(let g of l)t.set(g,e.get(g)),e.delete(g)},m=l=>(l=d(l,"min-width"),l=d(l,"min-height"),l=d(l,"max-width",!0),l=d(l,"max-height",!0),l=d(l,"min-device-width"),l=d(l,"min-device-height"),l=d(l,"max-device-width",!0),l=d(l,"max-device-height",!0),l);return u([...m(o),...m(s),...m(r),...m(i)]),t})}},N=new ee;var Se=p=>{let e=p.replace("rng","").split("-");return`${O(e[0])} and ${A(e[1])}`},O=p=>`(min-width: ${p.replace("minw","")})`,A=p=>`(max-width: ${p.replace("maxw","")})`,Ce=p=>`(min-height: ${p.replace("minh","")})`,ke=p=>`(max-height: ${p.replace("maxh","")})`,le=p=>`(orientation: ${p})`,ae={ignoredAreas:[/stylify-ignore([\s\S]*?)\/stylify-ignore/,/<code[\s]*?>([\s\S]*?)<\/code>/,/<head[\s]*?>([\s\S]*?)<\/head>/,/<pre[\s]*?>([\s\S]*?)<\/pre>/,/<script[\s]*?>([\s\S]*?)<\/script>/,/<style[\s]*?>([\s\S]*?)<\/style>/],selectorsAreas:[/(?:^|\s+)class="([^"]+)"/,/(?:^|\s+)class='([^']+)'/,/(?:^|\s+)className="([^"]+)"/,/(?:^|\s+)className='([^']+)'/,/(?:^|\s+)className=\{((?:.|\n)+)\}/,/(?:^|\s+)className:\s*`((?:.|\n)+)`/,/(?:^|\s+)className:\s*"([^"]+)"/,/(?:^|\s+)className:\s*'([^']+)"/,/(?:^|\s+)(?:v-bind|x-bind)?:class="([^"]+)"/,/(?:^|\s+)(?:v-bind|x-bind)?:class='([^']+)'/,/(?:^|\s+)class=\$\{((?:.|\n)+)\}/,/(?:^|\s+)\[(?:ngClass|className)\]="([^"]+)/,/(?:^|\s+)\[(?:ngClass|className)\]='([^']+)/,/(?:^|\s+)n:class="([^"]+)"/,/(?:^|\s+)n:class='([^']+)'/,/'class':\s*'([^']+)'/,/'class':\s*"([^"]+)"/,/"class":\s*"([^"]+)"/,/"class":\s*'([^']+)'/,/(?:^|\s+)class=\\"([^"]+)\\"/,/(?:^|\s+)class=\\'([^']+)\\'/,/(?:^|\s+)class=\{`([^`]+)`\}/,/(?:^|\s+)class=\{((?:.|\n)+)\}/,/(?:^|\s+)class:list=\{\s*\[((?:.|\n)+)\]\s*\}/,/(?:^|\s+)class:(\S+)=[{"']/,/(?:^|\s+)"class":\s*`([^`]+)`/],screens:{tosm:A("639px"),sm:O("640px"),tomd:A("767px"),md:O("768px"),tolg:A("1023px"),lg:O("1024px"),toxl:A("1279px"),xl:O("1280px"),to2xl:A("1535px"),"2xl":O("1536px"),to3xl:A("1919px"),"3xl":O("1920px"),"minw\\w+":p=>O(p.fullMatch),"maxw\\w+":p=>A(p.fullMatch),"minh\\w+":p=>Ce(p.fullMatch),"maxh\\w+":p=>ke(p.fullMatch),"rng[\\d\\w]+-[\\d\\w]+":p=>Se(p.fullMatch),screen:"screen",print:"print",onlyScreen:"only screen",portrait:le("portrait"),landscape:le("landscape"),dark:"(prefers-color-scheme: dark)",light:"(prefers-color-scheme: light)"},macros:{"(accent-color|additive-symbols|align-(?:content|items|self)|alignment-baseline|all|alt|animation(?:-(?:composition|delay|direction|duration|fill-mode|iteration-count|name|play-state|timeline|timing-function))?|app-region|appearance|apple-(?:color-filter|pay-(?:button-(?:style|type))|trailing-word)|ascent-override|aspect-ratio|backdrop-filter|backface-visibility|background(?:-(?:attachment|blend-mode|clip|color|image|origin|position(?:-(?:x|y))?|repeat(?:-(?:x|y))?|size))?|base-palette|baseline-(?:shift|source)|block-size|border(?:-(?:block(?:-(?:color|end(?:-(?:color|style|width))?|start(?:-(?:color|style|width))?|style|width))?|bottom(?:-(?:color|left-radius|right-radius|style|width))?|collapse|color|end-(?:end-radius|start-radius)|image(?:-(?:outset|repeat|slice|source|width))?|inline(?:-(?:color|end(?:-(?:color|style|width))?|start(?:-(?:color|style|width))?|style|width))?|left(?:-(?:color|style|width))?|radius|right(?:-(?:color|style|width))?|spacing|start-(?:end-radius|start-radius)|style|top(?:-(?:color|left-radius|right-radius|style|width))?|width))?|bottom|box-(?:decoration-break|shadow|sizing)|break-(?:after|before|inside)|buffered-rendering|caption-side|caret-color|clear|clip(?:-(?:path|rule))?|color(?:-(?:adjust|interpolation(?:-filters)?|rendering|scheme))?|column-(?:count|fill|gap|rule(?:-(?:color|style|width))?|span|width)|columns|contain(?:-(?:intrinsic-(?:block-size|height|inline-size|size|width)))?|container(?:-(?:name|type))?|content(?:-visibility)?|counter-(?:increment|reset|set)|cursor|cx|cy|d|descent-override|direction|display|dominant-baseline|empty-cells|fallback|fill(?:-(?:opacity|rule))?|filter|flex(?:-(?:basis|direction|flow|grow|shrink|wrap))?|float|flood-(?:color|opacity)|font(?:-(?:display|family|feature-settings|kerning|language-override|optical-sizing|palette|size(?:-adjust)?|stretch|style|synthesis(?:-(?:small-caps|style|weight))?|variant(?:-(?:alternates|caps|east-asian|ligatures|numeric|position))?|variation-settings|weight))?|forced-(?:color-adjust)|gap|glyph-(?:orientation-(?:horizontal|vertical))|grid(?:-(?:area|auto-(?:columns|flow|rows)|column(?:-(?:end|gap|start))?|gap|row(?:-(?:end|gap|start))?|template(?:-(?:areas|columns|rows))?))?|hanging-punctuation|height|hyphenate-(?:character|limit-chars)|hyphens|image-(?:orientation|rendering)|ime-mode|inherits|initial-(?:letter|value)|inline-size|inset(?:-(?:block(?:-(?:end|start))?|inline(?:-(?:end|start))?))?|isolation|justify-(?:content|items|self)|kerning|left|letter-spacing|lighting-color|line-(?:break|gap-override|height(?:-step)?)|list-(?:style(?:-(?:image|position|type))?)|margin(?:-(?:block(?:-(?:end|start))?|bottom|inline(?:-(?:end|start))?|left|right|top))?|marker(?:-(?:end|mid|start))?|mask(?:-(?:clip|composite|image|mode|origin|position(?:-(?:x|y))?|repeat|size|type))?|math-(?:depth|shift|style)|max-(?:block-size|height|inline-size|width|zoom)|min-(?:block-size|height|inline-size|width|zoom)|mix-(?:blend-mode)|moz-(?:appearance|box-(?:align|direction|flex|ordinal-group|orient|pack)|float-edge|force-(?:broken-(?:image-icon))|image-region|orient|outline-(?:radius-(?:bottomleft|bottomright|topleft|topright))|stack-sizing|tab-size|text-(?:size-adjust)|user-(?:focus|input|modify|select)|window-dragging)|negative|object-(?:fit|position|view-box)|offset(?:-(?:anchor|distance|path|position|rotate))?|opacity|order|orientation|orphans|outline(?:-(?:color|offset|style|width))?|overflow(?:-(?:anchor|clip-margin|wrap|x|y))?|override-colors|overscroll-(?:behavior(?:-(?:block|inline|x|y))?)|pad|padding(?:-(?:block(?:-(?:end|start))?|bottom|inline(?:-(?:end|start))?|left|right|top))?|page(?:-(?:break-(?:after|before|inside)|orientation))?|paint-order|perspective(?:-(?:origin(?:-(?:x|y))?))?|place-(?:content|items|self)|pointer-events|position|prefix|quotes|r|range|resize|right|rotate|row-gap|ruby-(?:align|position)|rx|ry|scale|scroll-(?:behavior|margin(?:-(?:block(?:-(?:end|start))?|bottom|inline(?:-(?:end|start))?|left|right|top))?|padding(?:-(?:block(?:-(?:end|start))?|bottom|inline(?:-(?:end|start))?|left|right|top))?|snap-(?:align|margin-(?:bottom|left|right|top)|stop|type))|scrollbar-(?:color|gutter|width)|shape-(?:image-threshold|margin|outside|rendering)|size(?:-adjust)?|speak(?:-as)?|src|stop-(?:color|opacity)|stroke(?:-(?:color|dasharray|dashoffset|linecap|linejoin|miterlimit|opacity|width))?|suffix|symbols|syntax|system|tab-size|table-layout|text-(?:align(?:-last)?|anchor|combine-upright|decoration(?:-(?:color|line|skip(?:-ink)?|style|thickness))?|emphasis(?:-(?:color|position|style))?|indent|justify|orientation|overflow|rendering|shadow|size-adjust|transform|underline-(?:offset|position)|wrap)|top|touch-action|transform(?:-(?:box|origin(?:-(?:x|y|z))?|style))?|transition(?:-(?:delay|duration|property|timing-function))?|translate|unicode-(?:bidi|range)|user-(?:select|zoom)|vector-effect|vertical-align|view-(?:transition-name)|visibility|webkit-(?:align-(?:content|items|self)|animation(?:-(?:delay|direction|duration|fill-mode|iteration-count|name|play-state|timing-function))?|app-region|appearance|aspect-ratio|backdrop-filter|backface-visibility|background-(?:clip|composite|origin|size)|border-(?:after(?:-(?:color|style|width))?|before(?:-(?:color|style|width))?|bottom-(?:left-radius|right-radius)|end(?:-(?:color|style|width))?|fit|horizontal-spacing|image|radius|start(?:-(?:color|style|width))?|top-(?:left-radius|right-radius)|vertical-spacing)|box-(?:align|decoration-break|direction|flex(?:-group)?|lines|ordinal-group|orient|pack|reflect|shadow|sizing)|clip-path|column-(?:axis|break-(?:after|before|inside)|count|gap|progression|rule(?:-(?:color|style|width))?|span|width)|columns|cursor-visibility|filter|flex(?:-(?:basis|direction|flow|grow|shrink|wrap))?|font-(?:feature-settings|kerning|smoothing)|highlight|hyphenate-(?:character|limit-(?:after|before|lines))|hyphens|initial-letter|justify-content|line-(?:align|box-contain|break|clamp|grid|snap)|locale|logical-(?:height|width)|margin-(?:after(?:-collapse)?|before(?:-collapse)?|bottom-collapse|end|start|top-collapse)|mask(?:-(?:box-(?:image(?:-(?:outset|repeat|slice|source|width))?)|clip|composite|image|origin|position(?:-(?:x|y))?|repeat(?:-(?:x|y))?|size|source-type))?|max-(?:logical-(?:height|width))|min-(?:logical-(?:height|width))|nbsp-mode|opacity|order|padding-(?:after|before|end|start)|perspective(?:-(?:origin(?:-(?:x|y))?))?|print-(?:color-adjust)|rtl-ordering|ruby-position|shape-(?:image-threshold|margin|outside)|tap-(?:highlight-color)|text-(?:combine|decorations-(?:in-effect)|emphasis(?:-(?:color|position|style))?|fill-color|orientation|security|size-adjust|stroke(?:-(?:color|width))?|zoom)|transform(?:-(?:origin(?:-(?:x|y|z))?|style))?|transition(?:-(?:delay|duration|property|timing-function))?|user-(?:drag|modify|select)|writing-mode)|white-(?:space(?:-collapse)?)|widows|width|will-change|word-(?:break|spacing|wrap)|writing-mode|x|y|z-index|zoom):(\\S+?)":p=>{let e=p.getCapture(0);return{[`${/^(?:apple|webkit|moz)/.test(e)?"-":""}${e}`]:p.getCapture(1)}}},helpers:{darken:(p,e)=>K(p,-e),lighten:(p,e)=>K(p,e),colorToRgb:(p,e=null)=>{let{r:t,g:s,b:r}=Z(p),i=`${t},${s},${r}`;return e?`rgba(${i},${e})`:`rgb(${i})`}}};var W=class{constructor(e){c(this,"placeholderCharacter","&");c(this,"placeholderCharacterRegExp",new RegExp(this.placeholderCharacter,"g"));c(this,"generatedSelectors",{});c(this,"tree");this.parseTree(e)}generateSelectors(e=""){if(e in this.generatedSelectors)return this.generatedSelectors[e];let t={},s=(i,o)=>i.replace(this.placeholderCharacterRegExp,o),r=(i,o)=>{var a;for(let[n,d]of Object.entries(o)){if(n==="selectors"){if(!d.length)continue;t[i]=[(a=t[i])!=null?a:"",d].join(" ");continue}for(let[u,m]of Object.entries(o.children))for(let l of u.split(",")){let g=i,h=l.includes("&");h?g=`${u.startsWith(this.placeholderCharacter)?" ":""}${s(l,g)}`:g+=` ${s(h?l.substring(1):l,g)}`,r(g.trim(),m)}}};return r(e,this.tree),this.generatedSelectors[e]=t,t}parseTree(e){let t=()=>({selectors:"",children:{}}),s=0,r=e.length,i=(o,a)=>{let n="";for(;s<r;){let d=o[s];if(s++,d==="{"){let u=n.match(/(?:\n|^)([^\n]+)$/);if(!u)throw new Error(`Selector levels cannot be created without selector. Processing "${o}".`);a.selectors+=n.replace(u[0],""),n="",a.children[u[1].trim()]=i(o,t())}else if(d==="}"){a.selectors+=n;break}else if(n+=d,s===r){a.selectors+=n,n="";break}}return a};this.tree=i(e,t())}};var I=class{constructor(e={}){c(this,"dev",!1);c(this,"compiler");c(this,"hooks",v);c(this,"compilationResult");c(this,"initialPaintCompleted",!1);c(this,"mutationObserverInitialized",!1);c(this,"repaintTimeout",100);if(typeof document!="undefined"){if(this.configure(e),v.callHook("stylify:ready",this),["complete","loaded","interactive"].includes(document.readyState)){this.init();return}document.addEventListener("DOMContentLoaded",()=>this.init())}}configure(e){var s,r,i,o,a;let t=(s=e.compiler)!=null?s:{};this.dev=(r=e.dev)!=null?r:this.dev,this.repaintTimeout=(i=e.repaintTimeout)!=null?i:this.repaintTimeout,t.dev=(o=t.dev)!=null?o:this.dev,t.ignoredAreas=[...(a=t.ignoredAreas)!=null?a:[],/stylify-runtime-ignore([\s\S]*?)\/stylify-runtime-ignore/];try{this.compiler||(this.compiler=new G),this.compiler.configure(t)}catch(n){console.error(n);return}v.callHook("stylify:configured",{config:e}),this.initialPaintCompleted&&(this.compilationResult=null,this.updateCss(document.documentElement.outerHTML))}init(){if(!this.initialPaintCompleted){let e=document.documentElement.outerHTML;this.updateCss(e,()=>{this.initialPaintCompleted=!0})}this.mutationObserverInitialized||this.initMutationObserver()}updateCss(e,t=null){try{this.compilationResult=this.compiler.compile(e,this.compilationResult)}catch(r){console.error(r);return}if(!this.compilationResult.changed&&this.initialPaintCompleted)return;let s=this.compilationResult.generateCss();return this.injectCss(s),t&&t({css:s,compilationResult:this.compilationResult,content:e}),v.callHook("stylify:repainted",{css:s,compilationResult:this.compilationResult,content:e}),s}initMutationObserver(){this.mutationObserverInitialized=!0;let e=document.documentElement,t={attributeFilter:["class"],childList:!0,subtree:!0},s="",r,i=`.${I.ignoreClass}`;new MutationObserver(a=>{a.forEach(n=>{let d=n.target;if(!(!["attributes","childList"].includes(n.type)||n.type==="attributes"&&n.attributeName!=="class"||d.nodeType!==Node.ELEMENT_NODE||d.id===I.styleElId||d.classList.contains(I.ignoreClass)||d.closest(i)!==null))if(d=d.cloneNode(!0),d.querySelectorAll(i).forEach(u=>{u.remove()}),n.type==="attributes"){let u=` class="${d.className}"`;s.includes(u)||(s+=u)}else s.includes(d.outerHTML)||(s+=d.outerHTML)}),r&&window.clearTimeout(r),s.trim().length&&(r=window.setTimeout(()=>{var n;s=(n=this.updateCss(s))!=null?n:""},this.repaintTimeout))}).observe(e,t)}injectCss(e){let t=document.getElementById(I.styleElId);t?t.innerHTML=e:(t=document.createElement("style"),t.id=I.styleElId,t.innerHTML=e,document.head.appendChild(t)),document.querySelectorAll(`.${I.cloakClass}`).forEach(r=>{r.classList.remove(I.cloakClass),v.callHook("stylify:uncloak",{el:r})})}},D=I;c(D,"styleElId","stylify-css"),c(D,"ignoreClass","stylify-ignore"),c(D,"cloakClass","s-cloak");export{F as CompilationResult,G as Compiler,B as CssRecord,W as CustomSelector,J as Hooks,T as MacroMatch,Y as MinifiedSelectorGenerator,P as RegExpMatch,D as Runtime,oe as backslashPlaceholder,se as createUId,ae as defaultPreset,ie as dollarPlaceholder,Q as escapeCssSelector,X as getStringOriginalStateAfterReplace,v as hooks,K as lightenDarkenColor,be as mergeObjects,E as minifiedSelectorGenerator,Z as parseColor,fe as parseHex,re as parseRgb,$ as prepareStringForReplace,me as rgbToHex,N as screensSorter,ne as tokenize};
